(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-399c52ea"],{"04d1":function(e,t,n){var r=n("342f"),i=r.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},"0aec":function(e,t,n){},"114b":function(e,t,n){"use strict";n("4cd4")},"25f0":function(e,t,n){"use strict";var r=n("6eeb"),i=n("825a"),a=n("d039"),o=n("ad6d"),c="toString",u=RegExp.prototype,s=u[c],l=a((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),d=s.name!=c;(l||d)&&r(RegExp.prototype,c,(function(){var e=i(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in u)?o.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"4cd4":function(e,t,n){},"4e82":function(e,t,n){"use strict";var r=n("23e7"),i=n("1c0b"),a=n("7b0b"),o=n("50c4"),c=n("d039"),u=n("addb"),s=n("a640"),l=n("04d1"),d=n("d998"),p=n("2d00"),f=n("512c"),b=[],v=b.sort,m=c((function(){b.sort(void 0)})),h=c((function(){b.sort(null)})),g=s("sort"),j=!c((function(){if(p)return p<70;if(!(l&&l>3)){if(d)return!0;if(f)return f<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)b.push({k:t+r,v:n})}for(b.sort((function(e,t){return t.v-e.v})),r=0;r<b.length;r++)t=b[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),O=m||!h||!g||!j,x=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:String(t)>String(n)?1:-1}};r({target:"Array",proto:!0,forced:O},{sort:function(e){void 0!==e&&i(e);var t=a(this);if(j)return void 0===e?v.call(t):v.call(t,e);var n,r,c=[],s=o(t.length);for(r=0;r<s;r++)r in t&&c.push(t[r]);c=u(c,x(e)),n=c.length,r=0;while(r<n)t[r]=c[r++];while(r<s)delete t[r++];return t}})},"4ec9":function(e,t,n){"use strict";var r=n("6d61"),i=n("6566");e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"512c":function(e,t,n){var r=n("342f"),i=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},6566:function(e,t,n){"use strict";var r=n("9bf2").f,i=n("7c73"),a=n("e2cc"),o=n("0366"),c=n("19aa"),u=n("2266"),s=n("7dd0"),l=n("2626"),d=n("83ab"),p=n("f183").fastKey,f=n("69f3"),b=f.set,v=f.getterFor;e.exports={getConstructor:function(e,t,n,s){var l=e((function(e,r){c(e,l,t),b(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=r&&u(r,e[s],{that:e,AS_ENTRIES:n})})),f=v(t),m=function(e,t,n){var r,i,a=f(e),o=h(e,t);return o?o.value=n:(a.last=o={index:i=p(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),d?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},h=function(e,t){var n,r=f(e),i=p(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(l.prototype,{clear:function(){var e=this,t=f(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,d?t.size=0:e.size=0},delete:function(e){var t=this,n=f(t),r=h(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),d?n.size--:t.size--}return!!r},forEach:function(e){var t,n=f(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!h(this,e)}}),a(l.prototype,n?{get:function(e){var t=h(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),d&&r(l.prototype,"size",{get:function(){return f(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=v(t),a=v(r);s(e,t,(function(e,t){b(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},"6d61":function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("94ca"),o=n("6eeb"),c=n("f183"),u=n("2266"),s=n("19aa"),l=n("861d"),d=n("d039"),p=n("1c7e"),f=n("d44e"),b=n("7156");e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),h=v?"set":"add",g=i[e],j=g&&g.prototype,O=g,x={},I=function(e){var t=j[e];o(j,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})},y=a(e,"function"!=typeof g||!(m||j.forEach&&!d((function(){(new g).entries().next()}))));if(y)O=n.getConstructor(t,e,v,h),c.REQUIRED=!0;else if(a(e,!0)){var R=new O,q=R[h](m?{}:-0,1)!=R,w=d((function(){R.has(1)})),k=p((function(e){new g(e)})),E=!m&&d((function(){var e=new g,t=5;while(t--)e[h](t,t);return!e.has(-0)}));k||(O=t((function(t,n){s(t,O,e);var r=b(new g,t,O);return void 0!=n&&u(n,r[h],{that:r,AS_ENTRIES:v}),r})),O.prototype=j,j.constructor=O),(w||E)&&(I("delete"),I("has"),v&&I("get")),(E||q)&&I(h),m&&j.clear&&delete j.clear}return x[e]=O,r({global:!0,forced:O!=g},x),f(O,e),m||n.setStrong(O,e,v),O}},7156:function(e,t,n){var r=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var a,o;return i&&"function"==typeof(a=t.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(e,o),e}},"7db0":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").find,a=n("44d2"),o="find",c=!0;o in[]&&Array(1)[o]((function(){c=!1})),r({target:"Array",proto:!0,forced:c},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),a=n("e8b5"),o=n("861d"),c=n("7b0b"),u=n("50c4"),s=n("8418"),l=n("65f0"),d=n("1dde"),p=n("b622"),f=n("2d00"),b=p("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",h=f>=51||!i((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),g=d("concat"),j=function(e){if(!o(e))return!1;var t=e[b];return void 0!==t?!!t:a(e)},O=!h||!g;r({target:"Array",proto:!0,forced:O},{concat:function(e){var t,n,r,i,a,o=c(this),d=l(o,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?o:arguments[t],j(a)){if(i=u(a.length),p+i>v)throw TypeError(m);for(n=0;n<i;n++,p++)n in a&&s(d,p,a[n])}else{if(p>=v)throw TypeError(m);s(d,p++,a)}return d.length=p,d}})},addb:function(e,t){var n=Math.floor,r=function(e,t){var o=e.length,c=n(o/2);return o<8?i(e,t):a(r(e.slice(0,c),t),r(e.slice(c),t),t)},i=function(e,t){var n,r,i=e.length,a=1;while(a<i){r=a,n=e[a];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==a++&&(e[r]=n)}return e},a=function(e,t,n){var r=e.length,i=t.length,a=0,o=0,c=[];while(a<r||o<i)a<r&&o<i?c.push(n(e[a],t[o])<=0?e[a++]:t[o++]):c.push(a<r?e[a++]:t[o++]);return c};e.exports=r},b85c:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");var r=n("06c5");function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Object(r["a"])(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,o=e},f:function(){try{c||null==n["return"]||n["return"]()}finally{if(u)throw o}}}}},bb2f:function(e,t,n){var r=n("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},cefe:function(e,t,n){"use strict";n("0aec")},d097:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),i=Object(r["J"])("data-v-c9a53ad2");Object(r["s"])("data-v-c9a53ad2");var a={class:"quiz"},o=Object(r["g"])("i",{class:"fas fa-chevron-left"},null,-1),c=Object(r["f"])(" Salir del quiz"),u=Object(r["g"])("h1",null,"Quiz",-1),s={key:0,class:"form"},l=Object(r["g"])("h3",{class:"form-header"}," Seleccione la lista de verificación que desea validar ",-1),d={class:"form-control"},p=Object(r["g"])("p",null,"Códido",-1),f={style:{"font-size":"14px","margin-left":"40px","font-weight":"100"}},b={class:"form-control"},v=Object(r["g"])("p",null,"Fecha de creación",-1),m={class:"non-editable"},h={key:2,class:"form"},g={key:0,class:"form-header-criterio"},j={class:"form-header"},O={class:"form-control"},x=Object(r["g"])("p",null,"Respuesta",-1),I={class:"radio-form",style:{"margin-left":"120px"}},y=Object(r["g"])("label",{for:"totalmente"},"Totalmente",-1),R={class:"radio-form"},q=Object(r["g"])("label",{for:"parcialmente"},"Parcialmente",-1),w={class:"radio-form"},k=Object(r["g"])("label",{for:"noimplementado"},"No implementado",-1),E={class:"radio-form"},C=Object(r["g"])("label",{for:"noaplica"},"No aplica",-1),S={key:1,class:"form-control"},z=Object(r["g"])("p",null,"Justificación",-1),D={key:2,class:"form-control"},T=Object(r["g"])("p",null,"Evidencia:",-1),N=Object(r["g"])("label",{for:"nuevo",style:{"margin-left":"122px"}},"Nueva",-1),$=Object(r["g"])("label",{class:"switch"},[Object(r["g"])("input",{type:"checkbox",name:"nuevo"}),Object(r["g"])("span",{class:"slider round"})],-1),A={key:3,class:"form-control"},V=Object(r["g"])("p",null,"Nombre del Documento:",-1),P={key:4,class:"form-control"},H=Object(r["g"])("p",null,"Archivo adjunto:",-1),J=Object(r["g"])("p",{class:"link"},"ppt.doc",-1),L={key:5},_={class:"grid"},M=Object(r["g"])("thead",{class:"header-grid"},[Object(r["g"])("tr",null,[Object(r["g"])("th",null,"Criterio"),Object(r["g"])("th",null,"Puntaje"),Object(r["g"])("th",null,"Porcentaje de cumplimiento")])],-1),B=Object(r["g"])("h3",{class:"form-header final"},"Resultados finales",-1),U={class:"grid summary"},F=Object(r["g"])("td",null,"Porcentaje de cumplimiento total",-1),Q=Object(r["g"])("td",null,"Nivel de riesgo",-1);Object(r["q"])();var G=i((function(e,t,n,i,G,K){var W,X,Y,Z,ee,te=Object(r["x"])("nav-bar");return Object(r["p"])(),Object(r["d"])(r["a"],null,[Object(r["g"])(te,{name:null===(W=e.userInfoJson)||void 0===W?void 0:W.nombres,lastName:null===(X=e.userInfoJson)||void 0===X?void 0:X.apellidos},null,8,["name","lastName"]),Object(r["g"])("section",a,[Object(r["g"])("h3",{class:"back",onClick:t[1]||(t[1]=function(){return e.backToEvluacion&&e.backToEvluacion.apply(e,arguments)})},[o,c]),u,e.start?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("div",s,[l,Object(r["g"])("div",d,[p,Object(r["g"])("input",{type:"text",value:e.selectedListaVerificacion.codigo},null,8,["value"]),Object(r["g"])("p",f,Object(r["z"])(e.selectedListaVerificacion.requerimientos.length)+" requerimientos ",1)]),Object(r["g"])("div",b,[v,Object(r["g"])("div",m,Object(r["z"])(new Date(e.selectedListaVerificacion.fechaCreacion).toLocaleDateString()),1)])])),e.start?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("button",{key:1,class:"action-button",onClick:t[2]||(t[2]=function(){return e.startQuiz&&e.startQuiz.apply(e,arguments)})}," Iniciar Quiz ")),e.start&&!e.showResultado&&e.evidenciaRequerimiento&&e.evidenciaRequerimiento[e.stepIndex]?(Object(r["p"])(),Object(r["d"])("section",h,[void 0!==(null===(Y=e.requerimientos[e.stepIndex])||void 0===Y?void 0:Y.criterio)?(Object(r["p"])(),Object(r["d"])("h4",g," Criterio: "+Object(r["z"])(null===(Z=e.requerimientos[e.stepIndex])||void 0===Z?void 0:Z.criterio.descripcion),1)):Object(r["e"])("",!0),Object(r["g"])("h5",j," Pregunta "+Object(r["z"])(e.questionNumber+1)+":   "+Object(r["z"])(null===(ee=e.requerimientos[e.stepIndex])||void 0===ee?void 0:ee.descripcion),1),Object(r["g"])("div",O,[x,Object(r["g"])("div",I,[y,Object(r["H"])(Object(r["g"])("input",{type:"radio",name:"totalmente",id:"1",value:"1","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.evidenciaRequerimiento[e.stepIndex].respuestaItem=t})},null,512),[[r["C"],e.evidenciaRequerimiento[e.stepIndex].respuestaItem]])]),Object(r["g"])("div",R,[q,Object(r["H"])(Object(r["g"])("input",{type:"radio",name:"parcialmente",id:"0.5",value:"0.5","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.evidenciaRequerimiento[e.stepIndex].respuestaItem=t})},null,512),[[r["C"],e.evidenciaRequerimiento[e.stepIndex].respuestaItem]])]),Object(r["g"])("div",w,[k,Object(r["H"])(Object(r["g"])("input",{type:"radio",name:"noimplementado",id:"0",value:"0","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.evidenciaRequerimiento[e.stepIndex].respuestaItem=t})},null,512),[[r["C"],e.evidenciaRequerimiento[e.stepIndex].respuestaItem]])]),Object(r["g"])("div",E,[C,Object(r["H"])(Object(r["g"])("input",{type:"radio",name:"noaplica",id:"null",value:"null","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.evidenciaRequerimiento[e.stepIndex].respuestaItem=t})},null,512),[[r["C"],e.evidenciaRequerimiento[e.stepIndex].respuestaItem]])])]),"null"!=e.evidenciaRequerimiento[e.stepIndex].respuestaItem?(Object(r["p"])(),Object(r["d"])("div",S,[z,Object(r["H"])(Object(r["g"])("input",{style:{"margin-left":"102px",width:"400px"},type:"text","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.evidenciaRequerimiento[e.stepIndex].justificacion=t})},null,512),[[r["E"],e.evidenciaRequerimiento[e.stepIndex].justificacion]])])):Object(r["e"])("",!0),"null"!=e.evidenciaRequerimiento[e.stepIndex].respuestaItem?(Object(r["p"])(),Object(r["d"])("div",D,[T,N,$])):Object(r["e"])("",!0),"null"!=e.evidenciaRequerimiento[e.stepIndex].respuestaItem?(Object(r["p"])(),Object(r["d"])("div",A,[V,Object(r["H"])(Object(r["g"])("input",{style:{"margin-left":"20px",width:"300px"},type:"text","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.evidencia[e.stepIndex].nombre=t})},null,512),[[r["E"],e.evidencia[e.stepIndex].nombre]])])):Object(r["e"])("",!0),"null"!=e.evidenciaRequerimiento[e.stepIndex].respuestaItem?(Object(r["p"])(),Object(r["d"])("div",P,[H,J])):Object(r["e"])("",!0)])):Object(r["e"])("",!0),e.questionNumber>0&&!e.showResultado?(Object(r["p"])(),Object(r["d"])("button",{key:3,class:"action-button main-form left",onClick:t[9]||(t[9]=function(){return e.previous&&e.previous.apply(e,arguments)})}," Anterior ")):Object(r["e"])("",!0),e.start&&!e.showResultado?(Object(r["p"])(),Object(r["d"])("button",{key:4,class:"action-button main-form",onClick:t[10]||(t[10]=function(){return e.next&&e.next.apply(e,arguments)})},Object(r["z"])(e.end?"Finalizar":"Continuar"),1)):Object(r["e"])("",!0),e.showResultado?(Object(r["p"])(),Object(r["d"])("div",L,[Object(r["g"])("table",_,[M,Object(r["g"])("tbody",null,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(e.pruebaResultados.criteriosResultado.length,(function(t,n){return Object(r["p"])(),Object(r["d"])("tr",{key:t},[Object(r["g"])("td",null,Object(r["z"])(e.pruebaResultados.criteriosResultado[n].descripcion+" ("+e.pruebaResultados.criteriosResultado[n].peso+") "),1),Object(r["g"])("td",null,Object(r["z"])(e.pruebaResultados.criteriosResultado[n].normalizedPuntaje),1),Object(r["g"])("td",null,Object(r["z"])(e.pruebaResultados.criteriosResultado[n].porcentajeCumplimiento+"%"),1)])})),128))])]),B,Object(r["g"])("table",U,[Object(r["g"])("tbody",null,[Object(r["g"])("tr",null,[F,Object(r["g"])("td",null,Object(r["z"])(e.pruebaResultados.porcentajeCumplimientoTotal)+"%",1)]),Object(r["g"])("tr",null,[Q,Object(r["g"])("td",null,Object(r["z"])(e.pruebaResultados.nivelDeRiesgo),1)])]),Object(r["g"])("button",{class:"action-button main-form left final",onClick:t[11]||(t[11]=function(){return e.showSummary&&e.showSummary.apply(e,arguments)})}," Visualizar resumen "),Object(r["g"])("button",{class:"action-button main-form final",onClick:t[12]||(t[12]=function(){return e.submit&&e.submit.apply(e,arguments)})}," Guardar prueba ")])])):Object(r["e"])("",!0)])],64)})),K=n("b85c"),W=n("5530"),X=n("1da1"),Y=(n("96cf"),n("d3b7"),n("ac1f"),n("5319"),n("99af"),n("4e82"),n("d81d"),n("4ec9"),n("3ca3"),n("ddb0"),n("25f0"),n("4de4"),n("7db0"),n("159b"),n("f464")),Z=n("5c40"),ee=n("d43e"),te=n("b74e"),ne=n("2fc2"),re=Object(Z["l"])({components:{NavBar:Y["a"]},computed:{selectedListaVerificacion:function(){return this.$store.getters["listaVerificacionModule/selectedListaVerificacion"]},prueba:function(){return this.$store.getters["pruebaModule/obtenerPrueba"]},evaluacion:function(){return this.$store.getters["evaluacionModule/obtenerEvaluacion"]}},data:function(){return{userInfoJson:Object(ee["h"])(),date:(new Date).toLocaleDateString(),start:!1,criterios:[],requerimientos:[],evidenciaRequerimiento:[],evidencia:[],pruebaResultados:{},obraId:"",criterioIndex:0,stepIndex:0,questionNumber:0,end:!1,showResultado:!1,loading:!1,error:!1,message:"",evaluacionDetalle:{}}},methods:{backToEvluacion:function(){this.$router.push("/evaluacion/".concat(this.evaluacion.codigo))},startQuiz:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={EvaluacionId:e.evaluacion.evaluacionId,Codigo:e.prueba.codigo},t.prev=1,t.next=4,fetch("".concat(ne["c"],"prueba"),{method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}),body:JSON.stringify(n)});case 4:return i=t.sent,t.next=7,i.json();case 7:r=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:e.$router.replace({path:"/evaluacion/".concat(e.evaluacion.codigo,"/prueba/").concat(r.codigo),query:{req:1}}),e.start=!0;case 15:case"end":return t.stop()}}),t,null,[[1,10]])})))()},obtenerPruebaResults:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(ne["c"],"prueba/").concat(e.prueba.codigo),{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 3:return n=t.sent,t.next=6,Object(te["a"])(n);case 6:return e.loading=!1,e.error=!1,t.next=10,n.json();case 10:e.pruebaResultados=t.sent,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),e.error=!0,JSON.parse(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()},registrarEvidenciaRequerimiento:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,"null"===e.evidenciaRequerimiento[e.stepIndex].respuestaItem&&(e.evidenciaRequerimiento[e.stepIndex].justificacion="",e.evidencia[e.stepIndex].nombre=""),n={EvidenciaId:e.evidencia[e.stepIndex].evidenciaId?e.evidencia[e.stepIndex].evidenciaId:null,RequerimientoId:e.requerimientos[e.stepIndex].requerimientoId,PruebaCodigo:e.$route.params.pr_codigo,EvidenciaNombre:e.evidencia[e.stepIndex].nombre,Justificacion:e.evidenciaRequerimiento[e.stepIndex].justificacion,RespuestaItem:JSON.parse(e.evidenciaRequerimiento[e.stepIndex].respuestaItem)},t.next=5,fetch("".concat(ne["c"],"evidenciarequerimiento"),{method:"POST",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}),body:JSON.stringify(n)});case 5:return r=t.sent,t.next=8,Object(te["a"])(r);case 8:return t.next=10,r.json();case 10:i=t.sent,e.evidencia[e.stepIndex].evidenciaId=i.evidenciaId,e.loading=!1,e.error=!1,t.next=22;break;case 16:t.prev=16,t.t0=t["catch"](0),e.error=!0,console.log(t.t0),a=JSON.parse(t.t0.message),console.log(a.errores);case 22:case"end":return t.stop()}}),t,null,[[0,16]])})))()},next:function(){var e=this;return Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.registrarEvidenciaRequerimiento();case 2:if(!e.end){t.next=10;break}return e.stepIndex=0,t.next=6,e.obtenerPruebaResults();case 6:e.showResultado=!0,e.$router.push("/evaluacion/".concat(e.evaluacion.codigo,"/prueba/").concat(e.$route.params.pr_codigo,"/resumen")),t.next=20;break;case 10:if(e.evidencia.push(Object(ee["c"])()),e.evidenciaRequerimiento.push(Object(ee["d"])()),e.requerimientos[e.stepIndex+2]||(e.end=!0),!e.requerimientos[e.stepIndex+1]){t.next=17;break}e.stepIndex+=1,t.next=18;break;case 17:return t.abrupt("return");case 18:e.questionNumber+=1,e.$router.push({path:"/evaluacion/".concat(e.evaluacion.codigo,"/prueba/").concat(e.$route.params.pr_codigo),query:{req:e.questionNumber+1}});case 20:case"end":return t.stop()}}),t)})))()},previous:function(){this.requerimientos[this.stepIndex-1]&&(this.stepIndex-=1,this.questionNumber-=1,this.end=!1,this.$router.replace({path:"/evaluacion/".concat(this.evaluacion.codigo,"/prueba/").concat(this.$route.params.pr_codigo),query:{req:this.questionNumber+1}}))},showSummary:function(){console.log(1)},submit:function(){var e=this;Object(X["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(ne["c"],"prueba/activar/").concat(e.prueba.codigo),{method:"PUT",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:e.$router.push("/evaluacion/"+e.evaluacion.codigo);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))()}},mounted:function(){var e=this;Object(X["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a,o,c,u,s,l,d,p,f,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,fetch("".concat(ne["c"],"evaluacion/").concat(e.$route.params.ev_codigo),{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 4:if(r=t.sent,"No Content"===r.statusText){t.next=14;break}return t.next=8,r.json();case 8:e.evaluacionDetalle=t.sent,e.selectedListaVerificacion.fechaCreacion=e.evaluacionDetalle.listaVerificacionFechaCreacion,e.selectedListaVerificacion.requerimientosCount=e.evaluacionDetalle.requerimientosCount,e.selectedListaVerificacion.codigo=e.evaluacionDetalle.codigoListaVerificacion,e.obraId=e.evaluacionDetalle.obraId,e.$store.dispatch("evaluacionModule/guardarEvaluacion",Object(W["a"])(Object(W["a"])({},e.evaluacion),{},{evaluacionId:e.evaluacionDetalle.evaluacionId,codigo:e.evaluacionDetalle.codigo,nombre:e.evaluacionDetalle.nombre,estado:e.evaluacionDetalle.estado,visibilidad:e.evaluacionDetalle.visibilidad,fechaCreacion:new Date(e.evaluacionDetalle.fechaCreacion).toLocaleDateString()}));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](1),console.log(t.t0);case 19:return t.prev=19,t.next=22,fetch("".concat(ne["c"],"listaverificaciones/lista?filter=").concat(e.evaluacionDetalle.codigoListaVerificacion),{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 22:return i=t.sent,t.next=25,i.json();case 25:n=t.sent,e.$store.dispatch("listaVerificacionModule/guardarListaVerificacion",Object(W["a"])({},n[0])),a=n[0].requerimientos.map((function(e){return e.criterio})).sort((function(e,t){return e.descripcion.localeCompare(t.descripcion)})),o=new Map,c=Object(K["a"])(a);try{for(c.s();!(u=c.n()).done;)s=u.value,o.has(s.descripcion)||(o.set(s.descripcion,!0),e.criterios.push(s))}catch(v){c.e(v)}finally{c.f()}e.requerimientos=e.selectedListaVerificacion.requerimientos.sort((function(e,t){return e.criterio.descripcion.localeCompare(t.criterio.descripcion)})),e.evidencia.push(Object(ee["c"])()),e.evidenciaRequerimiento.push(Object(ee["d"])()),t.next=39;break;case 36:t.prev=36,t.t1=t["catch"](19),console.log(t.t1);case 39:if(void 0!=e.$route.params.pr_codigo){t.next=57;break}return t.prev=40,t.next=43,fetch("".concat(ne["c"],"prueba/count"),{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 43:return l=t.sent,t.next=46,l.json();case 46:d=t.sent,p="",p=d>10?"0":"00",e.$store.dispatch("pruebaModule/guardarPrueba",Object(W["a"])(Object(W["a"])({},e.prueba),{},{codigo:"PR"+p+(d+1).toString()})),t.next=55;break;case 52:t.prev=52,t.t2=t["catch"](40),console.log(t.t2);case 55:t.next=75;break;case 57:return e.$store.dispatch("pruebaModule/guardarPrueba",Object(W["a"])(Object(W["a"])({},e.prueba),{},{codigo:e.$route.params.pr_codigo})),t.prev=58,t.next=61,fetch("".concat(ne["c"],"evidenciarequerimiento/").concat(e.$route.params.pr_codigo),{method:"GET",headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")})});case 61:return f=t.sent,t.next=64,f.json();case 64:b=t.sent,b.length>0&&(e.evidencia=[],e.evidenciaRequerimiento=[],b=e.requerimientos.map((function(e){return b.find((function(t){return t.requerimientoId==e.requerimientoId}))})).filter((function(e){return void 0!==e})),b.forEach((function(t){var n,r,i;e.evidencia.push({evidenciaId:null===(n=t.evidencia)||void 0===n?void 0:n.evidenciaId,nombre:null===(r=t.evidencia)||void 0===r?void 0:r.nombre,adjunto:null===(i=t.evidencia)||void 0===i?void 0:i.adjunto}),e.evidenciaRequerimiento.push({evidenciaId:t.evidenciaId,requerimientoId:t.requerimientoId,pruebaId:t.pruebaId,justificacion:t.justificacion,respuestaItem:t.respuestaItem,recomendacion:t.recomendacion})}))),b.length>0?(e.stepIndex=b.length-1,e.questionNumber=b.length-1):(e.stepIndex=0,e.questionNumber=0),e.requerimientos.length==b.length&&(e.end=!0),e.$router.replace({path:"/evaluacion/".concat(e.evaluacion.codigo,"/prueba/").concat(e.$route.params.pr_codigo),query:{req:e.questionNumber+1}}),e.start=!0,t.next=75;break;case 72:t.prev=72,t.t3=t["catch"](58),console.log(t.t3);case 75:case"end":return t.stop()}}),t,null,[[1,16],[19,36],[40,52],[58,72]])})))()},unmounted:function(){this.start=!1,this.criterioIndex=0,this.stepIndex=0,this.questionNumber=0,this.end=!1,this.showResultado=!1}});n("114b");re.render=G,re.__scopeId="data-v-c9a53ad2";t["default"]=re},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,a=n("1dde"),o=a("map");r({target:"Array",proto:!0,forced:!o},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},d998:function(e,t,n){var r=n("342f");e.exports=/MSIE|Trident/.test(r)},f183:function(e,t,n){var r=n("d012"),i=n("861d"),a=n("5135"),o=n("9bf2").f,c=n("90e3"),u=n("bb2f"),s=c("meta"),l=0,d=Object.isExtensible||function(){return!0},p=function(e){o(e,s,{value:{objectID:"O"+l++,weakData:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,s)){if(!d(e))return"F";if(!t)return"E";p(e)}return e[s].objectID},b=function(e,t){if(!a(e,s)){if(!d(e))return!0;if(!t)return!1;p(e)}return e[s].weakData},v=function(e){return u&&m.REQUIRED&&d(e)&&!a(e,s)&&p(e),e},m=e.exports={REQUIRED:!1,fastKey:f,getWeakData:b,onFreeze:v};r[s]=!0},f464:function(e,t,n){"use strict";n("b0c0");var r=n("7a23"),i=Object(r["J"])("data-v-5a41f577");Object(r["s"])("data-v-5a41f577");var a={class:"header"};Object(r["q"])();var o=i((function(e,t,n,i,o,c){return Object(r["p"])(),Object(r["d"])("div",a,[Object(r["g"])("p",{onClick:t[1]||(t[1]=function(t){return e.goToDashboard()}),class:"dashboardText"},"Sistema Experto de Monitoreo"),Object(r["g"])("p",null,"Bienvenido: "+Object(r["z"])(e.name+" "+e.lastName),1)])})),c=n("5c40"),u=Object(c["l"])({props:["name","lastName"],methods:{goToDashboard:function(){this.$router.push("/dashboard")}}});n("cefe");u.render=o,u.__scopeId="data-v-5a41f577";t["a"]=u}}]);
//# sourceMappingURL=chunk-399c52ea.bb479f56.js.map